"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.ModuleUtils = void 0;
/*
 * Copyright (c) 2025 Amazon.com, Inc. or its affiliates.  All rights reserved.
 *
 * PROPRIETARY/CONFIDENTIAL.  USE IS SUBJECT TO LICENSE TERMS.
 */
const log_1 = __importDefault(require("./log"));
const cli_tools_1 = require("@react-native-community/cli-tools");
class ModuleUtils {
    static getModulePath(projectRoot, moduleName, useRequire = false) {
        // First attempt to resolve from the root modules. This can be done in two
        // steps - (1) directly require in project root, and (2) use RN CLI tools.
        // (1) might not be applicable to all modules, so optionally run it when
        // indicated
        if (useRequire) {
            log_1.default.debug(`Attempting to find path for ${moduleName} with direct require`);
            try {
                return require.resolve(moduleName, {
                    paths: [projectRoot],
                });
            }
            catch (e) {
                log_1.default.debug(`Could not find ${moduleName} with direct require, searching using React Native CLI tools. Reason: ${e.message}`);
            }
        }
        return (0, cli_tools_1.resolveNodeModuleDir)(projectRoot, moduleName);
    }
}
exports.ModuleUtils = ModuleUtils;

/**
 * Copyright (c) 2022 Amazon.com, Inc. or its affiliates.  All rights reserved.
 *
 * PROPRIETARY/CONFIDENTIAL.  USE IS SUBJECT TO LICENSE TERMS.
 *
 * @format
 */

import React from 'react';
import {NativeSyntheticEvent, processColor, StyleSheet, ViewProps} from 'react-native';

import NativeSwitch from './SwitchSpec';

export const Switch = (props) => {
    const {
      value,
      disabled,
      thumbColor,
      trackColor,
      onChange,
      onValueChange,
      style,
      ...restProps
    } = props;
    const processedThumbColor = processColor(thumbColor);
    const processedTrackColorTrue = processColor(trackColor?.true);
    const processedTrackColorFalse = processColor(trackColor?.false);
    const handleChange = (event) => {
      if (onChange) {
        onChange(event);
      }
      if (onValueChange) {
        onValueChange(event.nativeEvent.value);
      }
    };
    return (
      <NativeSwitch
        {...restProps}
        value={value}
        disabled={disabled}
        thumbColor={processedThumbColor}
        trackColorTrue={processedTrackColorTrue}
        trackColorFalse={processedTrackColorFalse}
        onChange={handleChange}
        style={[styles.base, style]}
      />
    );
};

const styles = StyleSheet.create({
    base: {
        flexGrow: 1,
        flexShrink: 1,
    },
});

export default Switch;

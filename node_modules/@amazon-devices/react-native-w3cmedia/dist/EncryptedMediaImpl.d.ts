/// <reference types="react" />
import { MediaKeyMessageEvent, MediaKeys, MediaKeySession, MediaKeySessionEventMap, MediaKeysSystemAccess, MediaKeyStatus, MediaKeyStatusMap, MediaKeySystemConfiguration, MediaKeysPolicy } from "./interface/EncryptedMediaInterface";
import { AddEventListenerOptions, EventListener, EventListenerOptions } from "./interface/EventTargetInterface";
import { BufferSource } from "./interface/Utils";
import * as NativeInterfaces from "./turbo-modules/NativeInterface";
export declare class MediaKeyStatusMapImpl implements MediaKeyStatusMap {
    readonly size: number;
    private statusMap;
    constructor(size: number, statusMap: Map<BufferSource, MediaKeyStatus>);
    get(keyId: BufferSource): MediaKeyStatus | undefined;
    has(keyId: BufferSource): boolean;
    forEach(callbackfn: (value: MediaKeyStatus, key: BufferSource, parent: MediaKeyStatusMap) => void, thisArg?: any): void;
}
export declare class MediaKeySessionImpl implements MediaKeySession {
    private _nmks;
    private _nmk;
    private _sessionType;
    sessionId: string;
    readonly expiration: number;
    readonly closed: Promise<void> | null;
    keyStatuses: MediaKeyStatusMap | null;
    onkeystatuseschange: ((this: MediaKeySession, ev: Event) => any) | null;
    onmessage: ((this: MediaKeySession, ev: MediaKeyMessageEvent) => any) | null;
    constructor(sessionType: string, nmk: NativeInterfaces.NativeCDMiMediaKeys | null);
    setnmks(nmks: NativeInterfaces.NativeCDMiSession): void;
    generateRequest(initDataType: string, initData: BufferSource): Promise<void>;
    load(sessionId: string): Promise<boolean> | null;
    update(response: BufferSource): Promise<void>;
    close(): Promise<void> | null;
    remove(): Promise<void> | null;
    /**
     * Adds a event listener
     */
    addEventListener<K extends keyof MediaKeySessionEventMap>(type: K, listener: (this: MediaKeySession, ev: MediaKeySessionEventMap[K]) => any | EventListener, options?: boolean | AddEventListenerOptions): void;
    /**
     * Removes event listener
     */
    removeEventListener(type: string, listener: EventListener, options?: EventListenerOptions | boolean): void;
    private convertToMediaKeyStatus;
    private setMap;
    createSession_(sessionType: string, nativemk: NativeInterfaces.NativeCDMiMediaKeys): Promise<void>;
}
export declare class MediaKeysImpl implements MediaKeys {
    private _nativemk;
    constructor(nmk: NativeInterfaces.NativeCDMiMediaKeys);
    getnmk(): NativeInterfaces.NativeCDMiMediaKeys | null;
    createSession(sessionType?: string): MediaKeySession;
    setServerCertificate(serverCertificate: BufferSource): Promise<boolean>;
    getStatusForPolicy(policy?: MediaKeysPolicy): Promise<MediaKeyStatus>;
}
export declare class MediaKeysSystemAccessImpl implements MediaKeysSystemAccess {
    private _configuration;
    private _nativemksa;
    private _nativecfg;
    readonly keySystem: string;
    constructor(keysystem: string, nativemksa: NativeInterfaces.NativeCDMiAccess);
    private static deepClone;
    clone(): MediaKeysSystemAccessImpl;
    getConfiguration(): MediaKeySystemConfiguration | null;
    createMediaKeys(): Promise<MediaKeys> | void;
}
/**
 * TODO: Deprectate the 'requestMediaKeysSystemAccess' in future release (after MR32).
 * PROJXXXX-139032
 */
export declare function requestMediaKeysSystemAccess(keySystem: string, supportedConfigurations: Array<MediaKeySystemConfiguration>): Promise<MediaKeysSystemAccess>;
/**
 * https://www.w3.org/TR/encrypted-media/#dom-navigator-requestmediakeysystemaccess
 * @param keySystem
 * @param supportedConfigurations
 * @returns
 */
export declare function requestMediaKeySystemAccess(keySystem: string, supportedConfigurations: Array<MediaKeySystemConfiguration>): Promise<MediaKeysSystemAccess>;

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.initializeLogging = void 0;
/*
 * Copyright 2025 Amazon.com, Inc. or its affiliates. All rights reserved.
 *
 * AMAZON PROPRIETARY/CONFIDENTIAL
 *
 * You may not use this file except in compliance with the terms and
 * conditions set forth in the accompanying LICENSE.TXT file.
 *
 * THESE MATERIALS ARE PROVIDED ON AN "AS IS" BASIS. AMAZON SPECIFICALLY
 * DISCLAIMS, WITH RESPECT TO THESE MATERIALS, ALL WARRANTIES, EXPRESS,
 * IMPLIED, OR STATUTORY, INCLUDING THE IMPLIED WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE, AND NON-INFRINGEMENT.
 */
const LogUtils_1 = require("./LogUtils");
const LogLevel_1 = require("./LogLevel");
/**
 * Initialize logging system
 *
 * This function configures the logging system based on compile-time constants.
 * It should be called during media player construction.
 */
function initializeLogging() {
    // Determine if we're in development mode
    const isDev = typeof __DEV__ !== 'undefined' ? __DEV__ : false;
    // Use compile-time log level, or fall back to default based on development mode
    let logLevel = LogLevel_1.W3CMEDIA_LOG_LEVEL;
    if (logLevel === undefined) {
        logLevel = isDev ? LogUtils_1.LogLevel.DEBUG : LogUtils_1.LogLevel.INFO;
        LogUtils_1.LogUtil.warn('No compile-time log level found, using default');
    }
    // Set the log level
    if (logLevel >= LogUtils_1.LogLevel.NONE && logLevel <= LogUtils_1.LogLevel.VERBOSE) {
        LogUtils_1.LogUtil.setLogLevel(logLevel);
        LogUtils_1.LogUtil.info(`Log level set to: ${LogUtils_1.LogUtil.getCurrentLogLevelName()}`);
    }
    else {
        // Invalid log level, use default
        const defaultLevel = isDev ? LogUtils_1.LogLevel.DEBUG : LogUtils_1.LogLevel.INFO;
        LogUtils_1.LogUtil.setLogLevel(defaultLevel);
        LogUtils_1.LogUtil.warn(`Invalid log level: ${logLevel}, using default: ${LogUtils_1.LogUtil.getCurrentLogLevelName()}`);
    }
}
exports.initializeLogging = initializeLogging;

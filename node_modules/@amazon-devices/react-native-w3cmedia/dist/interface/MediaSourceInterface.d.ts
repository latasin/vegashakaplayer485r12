/**
 * This file defines the interfaces for MediaSourceExtension APIs
 * as defined in https://www.w3.org/TR/media-source-2.
 */
import { EventTarget, EventListener } from './EventTargetInterface';
import { MediaProvider } from './HTMLMediaElement';
import { AudioTrackList, TextTrackList, TimeRanges, VideoTrackList } from './MediaTypes';
import { BufferSource } from './Utils';
/**
 * For additional information, see
 * https://www.w3.org/TR/media-source-2/#dom-appendmode.
 */
export declare enum AppendMode {
    segments = "segments",
    sequence = "sequence"
}
/**
 * For additional information, see
 * https://www.w3.org/TR/media-source-2/#sourcebuffer.
 */
export interface SourceBuffer extends EventTarget {
    /**
     * Get or set the append mode.
     * For additional information, see
     * https://www.w3.org/TR/media-source-2/#dom-sourcebuffer-mode.
     */
    mode: AppendMode;
    /**
     * Checks if Source Buffer is upating track buffers.
     * For additional information, see
     * https://www.w3.org/TR/media-source-2/#dom-sourcebuffer-updating.
     */
    readonly updating: boolean;
    /**
     * Gets the Time ranges of the buffered media.
     * For additional information, see
     * https://www.w3.org/TR/media-source-2/#dom-sourcebuffer-buffered.
     */
    readonly buffered: TimeRanges;
    /**
     * Get or set the timestamp offset to be applied to every coded frame.
     * For additional information, see
     * https://www.w3.org/TR/media-source-2/#dom-sourcebuffer-timestampoffset.
     */
    timestampOffset: number;
    /**
     * Gets the audio track list.
     * For additional information, see
     * https://www.w3.org/TR/media-source-2/#dom-sourcebuffer-audiotracks.
     */
    readonly audioTracks: AudioTrackList;
    /**
     * Gets the video track list.
     * For additional information, see
     * https://www.w3.org/TR/media-source-2/#dom-sourcebuffer-videotracks.
     */
    readonly videoTracks: VideoTrackList;
    /**
     * Gets the text track list.
     * For additional information, see
     * https://www.w3.org/TR/media-source-2/#dom-sourcebuffer-texttracks.
     */
    readonly textTracks: TextTrackList;
    /**
     * Get or Set the append window start position in seconds.
     * For additional information, see
     * https://www.w3.org/TR/media-source-2/#dom-sourcebuffer-appendwindowstart.
     */
    appendWindowStart: number;
    /**
     * Get or set the append window end position in seconds.
     * For additional information, see
     * https://www.w3.org/TR/media-source-2/#dom-sourcebuffer-appendwindowend.
     */
    appendWindowEnd: number;
    /**
     * For additional information, see
     * https://www.w3.org/TR/media-source-2/#dom-sourcebuffer-onupdatestart
     */
    onupdatestart: EventListener;
    /**
     * For additional information, see
     * https://www.w3.org/TR/media-source-2/#dom-sourcebuffer-onupdate
     */
    onupdate: EventListener;
    /**
     * For additional information, see
     * https://www.w3.org/TR/media-source-2/#dom-sourcebuffer-onupdateend
     */
    onupdateend: EventListener;
    /**
     * For additional information, see
     * https://www.w3.org/TR/media-source-2/#dom-sourcebuffer-onerror
     */
    onerror: EventListener;
    /**
     * For additional information, see
     * https://www.w3.org/TR/media-source-2/#dom-sourcebuffer-onabort
     */
    onabort: EventListener;
    /**
     * Append the media segment.
     * For additional information, see
     * https://www.w3.org/TR/media-source-2/#dom-sourcebuffer-appendbuffer.
     * @param data
     */
    appendBuffer(data: BufferSource | Uint8Array): void;
    /**
     * Abort the source buffer operations.
     * For additional information, see
     * https://www.w3.org/TR/media-source-2/#dom-sourcebuffer-abort.
     */
    abort(): void;
    /**
     * Change the mime type of the source buffer.
     * @hidden
     * https://www.w3.org/TR/media-source-2/#dom-sourcebuffer-changetype
     */
    changeType(type: string): void;
    /**
     * Remove the media samples from the internal track buffer queue
     * between start and end timestamp positions.
     * For additional information, see
     * https://www.w3.org/TR/media-source-2/#dom-sourcebuffer-remove.
     */
    remove(start: number, end: number): void;
}
/**
 * For additional information, see
 * https://www.w3.org/TR/media-source-2/#dom-sourcebufferlist.
 */
export interface SourceBufferList {
    /**
     * Gets the length of the source buffer list.
     * For additional information, see
     * https://www.w3.org/TR/media-source-2/#dom-sourcebufferlist-length.
     */
    readonly length: number;
    /**
     * For additional information, see
     * https://www.w3.org/TR/2016/REC-media-source-20161117/#dom-sourcebufferlist-onaddsourcebuffer
     */
    onaddsourcebuffer: EventListener;
    /**
     * For additional information, see
     * https://www.w3.org/TR/media-source-2/#dom-sourcebufferlist-onremovesourcebuffer
     */
    onremovesourcebuffer: EventListener;
}
/**
 * For additional information, see
 * https://www.w3.org/TR/media-source-2/#dom-readystate.
 */
export declare enum ReadyState {
    closed = "closed",
    open = "open",
    ended = "ended"
}
/**
 * TextTrackCue.
 * For additional information, see
 * https://www.w3.org/TR/media-source-2/#dom-mediasourcehandle.
 */
export interface MediaSourceHandle extends MediaProvider {
}
/**
 * For additional information, see
 * https://www.w3.org/TR/media-source-2/#dom-endofstreamerror.
 */
export declare enum EndOfStreamError {
    /**
     * For additional information, see
     * https://www.w3.org/TR/media-source-2/#dom-endofstreamerror-network.
     */
    network = "network",
    /**
     * For additional information, see
     * https://www.w3.org/TR/media-source-2/#dom-endofstreamerror-decode.
     */
    decode = "decode"
}
export interface MediaSourceInterface extends EventTarget {
    /**
     * For additional information, see
     * https://www.w3.org/TR/media-source-2/#dom-mediasource-sourcebuffers.
     */
    readonly sourceBuffers: SourceBufferList;
    /**
     * For additional information, see
     * https://www.w3.org/TR/media-source-2/#dom-mediasource-activesourcebuffers.
     */
    readonly activeSourceBuffers: SourceBufferList;
    /**
     * For additional information, see
     * https://www.w3.org/TR/media-source-2/#dom-mediasource-readystate.
     */
    readonly readyState: ReadyState;
    /**
     * For additional information, see
     * https://www.w3.org/TR/media-source-2/#dom-mediasource-duration.
     */
    duration: number;
    /**
     * For additional information, see
     * https://www.w3.org/TR/media-source-2/#dom-mediasource-onsourceopen
     */
    onsourceopen: EventListener;
    /**
     * For additional information, see
     * https://www.w3.org/TR/media-source-2/#dom-mediasource-onsourceended
     */
    onsourceended: EventListener;
    /**
     * For additional information, see
     * https://www.w3.org/TR/media-source-2/#dom-mediasource-onsourceclose
     */
    onsourceclose: EventListener;
    /**
     * @hidden
     * https://www.w3.org/TR/media-source-2/#dom-mediasource-canconstructindedicatedworker
     */
    readonly canConstructInDedicatedWorker: true;
    /**
     * For additional information, see
     * https://www.w3.org/TR/media-source-2/#dom-mediasource-addsourcebuffer.
     * @param type Mime type.
     */
    addSourceBuffer(type: string): SourceBuffer;
    /**
     * For additional information, see
     * https://www.w3.org/TR/media-source-2/#dom-mediasource-removesourcebuffer.
     * @param sourceBuffer source buffer instance to be removed.
     */
    removeSourceBuffer(sourceBuffer: SourceBuffer): void;
    /**
     * For additional information, see
     * https://www.w3.org/TR/media-source-2/#dom-mediasource-endofstream.
     * @param error
     */
    endOfStream(error?: EndOfStreamError): void;
    /**
     * For additional information, see
     * https://www.w3.org/TR/media-source-2/#dom-mediasource-setliveseekablerange.
     * @param start
     * @param end
     */
    setLiveSeekableRange(start: number, end: number): void;
    /**
     * For additional information, see
     * https://www.w3.org/TR/media-source-2/#dom-mediasource-clearliveseekablerange.
     */
    clearLiveSeekableRange(): void;
    /**
     * @hidden
     * https://www.w3.org/TR/media-source-2/#dom-mediasource-gethandle
     */
    getHandle(): MediaSourceHandle;
}

/**
 * Copyright (c) 2025 - Amazon.com, Inc. or its affiliates.  All rights reserved.
 *
 * PROPRIETARY/CONFIDENTIAL.  USE IS SUBJECT TO LICENSE TERMS.
 */


export type GamepadEvent = {
  eventType: 'action_btn_a'
  | 'action_btn_b' | 'action_btn_x' | 'action_btn_y' | 'dpad_btn_up' | 'dpad_btn_down' | 'dpad_btn_left' | 'dpad_btn_right'
  | 'left_stick_btn_thumbl' | 'right_stick_btn_thumbr' | 'right_upper_trigger_btn_tr' | 'left_upper_trigger_btn_tl'
  | 'left_lower_trigger_btn_tl2' | 'right_lower_trigger_btn_tr2' | 'left_menu_btn_select' | 'right_menu_btn_start' | 'axis' | string;
  eventKeyAction?: -1 | 1 | 0 | number;
  axis?: AxisValues;
  deviceIdentifier?: DeviceIdentifier;
};

export const useGamepadEventHandler: (handleEvent: (event: GamepadEvent) => void) => GamepadEventSubscription;

export type SetGamepadSubscriptionState = (enable: boolean) => void

export type GamepadEventSubscription = {

  /**
   *  enabled flag return whether the current callback is active or not.
   */
  enabled: boolean,

  /**
   *  setEnabled function to enable/disable gamepad events.
   */
  setEnabled: SetGamepadSubscriptionState,
}


interface AxisValues {
  /**
   *  Current axis entries with their corresponding values.
   */
  left_stick_x?: number,
  left_stick_y?: number,
  right_stick_x?: number,
  right_stick_y?: number,
  left_lower_trigger?: number,
  right_lower_trigger?: number,
  left_upper_trigger?: number,
  right_upper_trigger?: number,
  dpad_x?: number,
  dpad_y?: number
}


interface DeviceIdentifier {
  uniqueId?: string;
  busId?: number;
  vendorId?: number;
  productId?: number;
  version?: number;
}
